# éšæœºæ•°æ®çš„ç”Ÿæˆ

å‰ç½®çŸ¥è¯† [éšæœºæ•°çš„ç”¨æ³•](./éšæœºæ•°çš„ç”¨æ³•.md)

æ³¨æ„ä¸‹é¢çš„`rnd`ä»£è¡¨ä¸€ä¸ªçš„ç”Ÿæˆéšæœºæ•°æ®,ä½ å¯ä»¥ç”¨[éšæœºæ•°çš„ç”¨æ³•](./éšæœºæ•°çš„ç”¨æ³•.md)
è¿™é‡Œçš„ä¸¤ç§é£æ ¼çš„éšæœºæ•°å°è£…ç±»è¿™ä¸€

```cpp
//å…¨å±€éšæœºæ•°æ®ç”Ÿæˆå™¨
struct Random {
    using ll = long long;
    // std::random_device rd;
    std::mt19937 engine;
    std::uniform_int_distribution<long long> dis; // in [0,0x7fffffffffffffff]
    Random() : engine{std::random_device{}()}
    {}

    //æŒ‡å®šç”Ÿæˆçš„éšæœºæ•°çš„èŒƒå›´
    Random(ll l,ll r) :Random()
    { dis = std::uniform_int_distribution<long long> (l,r); }

    ll operator()(){ return dis(engine); }
    ll operator()(ll l,ll r){ return l == r ? l : dis(engine) % ( r-l+1 ) + l; }
} _rnd;
```

æ•´ä¸ªä»£ç æ•´åˆåˆ°äº†ä¸€ä¸ªæ–‡ä»¶,é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½
```bash
wget <%= host%>/miniRainboyLib/randData.hpp
```

æµ‹è¯•ä»£ç ,æŸ¥çœ‹ä»£ç ,å­¦ä¹ å¦‚ä½•ä½¿ç”¨

```bash
wget <%= host%>/miniRainboyLib/example/randData.cpp
```

æˆ–å»è¿™é‡ŒæŸ¥çœ‹æœ¬ä¹¦é…å¥—çš„å°å‹ä»£ç åº“[miniRainboyLib](/miniRainboyLib/readme.md)

## éšæœºå­—ç¬¦

```cpp
const char char_sets[] = "abcdefghijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ";

inline char rand_char() { 
    return char_sets[_rnd(0,sizeof(char_sets) /sizeof(char_sets[0]))];
}

inline char rand_char(int l,int r) { 
    // r = std::max(r,sizeof(char_sets) /sizeof(char_sets[0]));
    return char_sets[_rnd(l,r)];
}

inline char rand_lowchar() {
    return rand_char(0,26-1);
}

inline char rand_upchar() {
    return rand_char(26,52-1);
}
```

## éšæœºå­—ç¬¦ä¸²

TODO

## å·¥å…·å‡½æ•°

å®šä¹‰äº†ä¸€äº›è¾“å‡ºçš„å·¥å…·å‡½æ•°

```cpp
const auto print_one = [](int n,bool nl= false){ 
    std::cout << n <<" " ;
    if(nl) std::cout << "\n";
};
const auto print_two = [](int l,int r){ std::cout << l <<" " << r << "\n";};

//è¾“å‡ºä¸¤ä¸ªç‚¹çš„åŒæ—¶,è¿˜è¾“å‡ºä¸€ä¸ªéšæœºçš„w
struct print_two_w {
    int l,r;
    print_two_w(): l(1),r(10) {}
    
    print_two_w(int _l,int _r): l(_l),r(_r) {
        if( l > r) std::swap(l,r);
    }

    void operator()(int _l,int _r){
        std::cout << _l << " " << _r << " "
            << _rnd(l,r)
            << "\n";
    }
};
```


## éšæœºåºåˆ—

```cpp
//ç”Ÿæˆnä¸ª[l,r]å†…çš„éšæœºæ•°
template<typename F>
void rand_seq(int n,int l,int r,F&& f){
    for(int i=1;i<=n;++i){
        f(_rnd(l,r));
    }
}

void rand_seq(int n=10,int l=1,int r=10){
    rand_seq(n,l,r,print_one);
}
```

æ— é‡å¤çš„éšæœºåºåˆ—

TODO,`random_shuffle`

## éšæœºæ ‘

åŸç†,ä»ç¬¬2ä¸ªç‚¹å¼€å§‹,ç‚¹iå’Œéšæœºç‚¹`[1,i-1]`è¿æ¥,æœ€åå½¢æˆnæ¡è¾¹çš„è¿é€šå›¾,å°±æ˜¯
æ ‘

```cpp
// >>> éšæœºç”Ÿæˆä¸€ä¸ªæ ‘
template<typename F>
void rand_tree(int n,F && f){
    for(int i = 2 ;i<=n;i++ ){
        f(_rnd(1,i-1),i);
    }
}

void rand_tree(int n = 10){
    rand_tree(n,print_two);
}
```

## éšæœºäºŒå‰æ ‘

åŒéšæœºæ ‘çš„åŸç†å·®ä¸å¤š,

è®¾å®šä¸¤ä¸ªé›†åˆ$\{left\},\{right\}$, $\{left\}$è¡¨ç¤ºè¿˜æ²¡æœ‰å·¦å­©å­çš„ç‚¹,$\{right\}$åŒç†

æ¯ä¸€æ¬¡ç‚¹`u`éƒ½ä¼šå»å°è¯•è¿æ¥`{left}`æˆ–`{right}`ä¸­çš„ç‚¹,ä¿è¯æ¯ä¸ªç‚¹ä¸ä¼šè¶…è¿‡2ä¸ªå­©å­

```cpp
template<typename F>
void rand_binary_tree(int n,F&& f){
    std::set<int> left{1},right{1};
    std::vector<int> v(n+1);
    auto pic = [](std::set<int> & sets){
        auto b  = sets.begin();
        std::advance(b, _rnd(0,sets.size()-1));
        int ret = *b;
        sets.erase(b);
        return ret;
    };
    for(int i =2;i<=n;++i){
        int chance = _rnd(1,100);
        if( chance <= 50 && left.size() > 0 )
            v[i] = pic(left);
        else if( right.size() > 0)
            v[i] = pic(right);
        else 
            v[i] = pic(left);
        left.insert(i);
        right.insert(i);
    }
    for(int i=2;i<=n;i++)
        f(v[i],i);
}

void rand_binary_tree(int n=10){
    return rand_binary_tree(n,tree_out);
}
```

## éšæœºå›¾

```cpp
// nä¸ªç‚¹mæ¡è¾¹çš„éšæœºå›¾
template<typename F>
void rand_graph(int n,int m,F&& f){
    std::set< std::pair<int,int> > _set; //é˜²æ­¢é‡è¾¹
    rand_tree(n, [&](int u,int v) {
        f(u,v);
        _set.emplace(u,v);
        _set.emplace(v,u);
    });

    for(int i = n+1;i<=m;++i){
        int u,v;
        do {
            u = _rnd(1,n), v = _rnd(1,n);
        }while(u == v || _set.find(std::make_pair(u, v)) != _set.end());
        _set.emplace(u,v);
        _set.emplace(v,u);
        f(u,v);
    }
}
void rand_graph(int n=5,int m=10){
    rand_graph(n,m,print_two);
}
```

## éšæœºäºŒåˆ†å›¾

TODO

## éšæœºé“¾å›¾

TODO

## éšæœºğŸŒ¼èŠèŠ±å›¾

TODO

## éšæœºè’²å…¬è‹±å›¾

TODO

## éšæœºğŸŒµä»™äººæŒ

TODO
